<div class="col-md-12 col-lg-12">
  
  <nb-card>
      <nb-card-header  i18n="@@listFolder"> 
          
        <h4 class="text-center">
            Exercice:   {{exercice.designation}}-{{exercice.annee}}
<div style="text-align: right">
            <button nbButton hero status="danger" (click)="ouvrirModeleEcriture()" class="submit"
             >ouvrir Modele</button> </div>
        </h4>

     
      </nb-card-header>   
    <nb-card-body  style="margin-top: 2%;">


      <form class="form-group" autocomplete="off" #gaForm=ngForm>


        <div class="row full-name-inputs" style="width: 80%">
          <div class="input-group col-md-1   input-group-sm">
            <input type="text" name="jour" [(ngModel)]="ecriture.jour" class="form-control" placeholder="Jour"
                required />
          </div>

          <div class="input-group col-md-1  input-group-sm">
            <input type="text" name="numero" class="form-control" placeholder=" N piéce"
              [(ngModel)]="ecriture.numeroPiece" required />
          </div>

          <div class="input-group col-md-2   input-group-sm">
            <ng-select placeholder=" Compte Géneral" [items]="comptesGeneral" bindLabel="nameCode" name="cod"
              [(ngModel)]="ecriture.compteGeneral" style="width:100%;" required>
            </ng-select>
          </div>

          <div class="input-group col-md-2   input-group-sm">
            <ng-select placeholder=" Compte Tier" [items]="comptesTiers" bindLabel="nameCode" name="mois"
              [(ngModel)]="ecriture.compteTier" style="width:100%;">
            </ng-select>
          </div>
          <div class="input-group col-md-2   input-group-sm">
            <input type="text" name="debit" class="form-control" [(ngModel)]="ecriture.debit"   mask="separator.3" placeholder=" Débit"  [hidden]="ecriture.credit"/>
          </div>
          <div class="input-group col-md-2   input-group-sm">
            <input type="text" name="credit" class="form-control" placeholder=" Crédit"    mask="separator.3"  [hidden]="ecriture.debit" [(ngModel)]="ecriture.credit" />
          </div>

          <div class="input-group col-md-2   input-group-sm">
            <button nbButton hero status="success" (click)="addToTab(ecriture)" class="submit" style="height: 35px;"
              [disabled]=!gaForm.valid>Envoyer</button>
          </div>

        </div>


      </form>

      

        <div class="note note-info"    *ngIf="dataNotFound()"  style="margin-top: 30px;" >
            <div class="note-title">Note</div>
            <div class="note-body">
              <ul>
                <li>
                  Données non trouvées
                </li>
                <li>
                    aucune         operation ecriture à affichée .
                </li>
              </ul>
            </div>
          </div>
  


      <div *ngIf="!dataNotFound()" class="row full-name-inputs" style="width: 100%">
        <div class="input-group col-md-9">


          <table class="table table-striped table-bordered">
            <thead  style="background-color: #D3D3D3;">
              <tr>
                <th scope="col">Jour</th>
                <th scope="col">N° Piéce</th>
                <th scope="col">compte Géneral</th>
                <th scope="col">compte Tiers</th>
                <th scope="col">Débit</th>
                <th scope="col">Crédit</th>
                <th scope="col"> Remove</th>




              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let   item  of source; let i = index; let c = count">
                <td style="width: 5%"> {{item.jour}} </td>
                <td style="width: 10%"> {{item.numeroPiece}} </td>
                <td style="width: 40%"> {{item.compteGeneral.nameCode}} </td>
                <td   style="width: 40%"> {{item.nameCode}} </td>
                <td style="width: 20%"> {{item.debit}} </td>
                <td style="width: 20%"> {{item.credit}} </td>
                <td style="width: 20%"><button (click)="removeItem(i)" type="button" class="btn btn-danger  rounded-circle btn-sm"><i class="fas fa-trash-alt"></i>
                </button></td>





              </tr>
            </tbody>
          </table>




        </div>

        <div class="input-group col-md-3">
          <ul>
            <li>
              <h3> TOTAL DÉBIT: {{  getTotalDebit()    | transformeNumber }}</h3>
            </li>
            <li>
              <h3>TOTAL CRÉDIT: {{ getTotalCredit()   | transformeNumber   }}</h3>
            </li>
            <li>
              <h3> ÉCART:{{ getTotalDebit() - getTotalCredit()  | transformeNumber  }} </h3>
            </li>
<li>  <button nbButton hero status="info" (click)="saveOperation()" class="submit"   [disabled]=" disableEnregistrer()" > Enregistrer</button></li>
          </ul>
        
        </div>
      </div>








    </nb-card-body>
  </nb-card>

</div>