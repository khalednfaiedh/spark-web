<div style="width:85vw;max-height: 85vh">
  <nb-card>
    <nb-card-body>
      <nb-tabset fullWidth>
        <nb-tab tabTitle="Demande de prix">
          <div class="row full-name-inputs">
            <div class="form-group col-md-4 col-lg-4 input-group-sm" style="margin-bottom: 20px;">
              <label class="label">Référence:</label>
              <input placeholder="Référence" [(ngModel)]="demandePrix.reference" class="form-control">
            </div>
            <div class="form-group col-md-4 col-lg-4 input-group-sm" style="margin-bottom: 20px;">
              <label class="label">Désignation :</label>
              <input placeholder="Désignation" [(ngModel)]="demandePrix.designation" class="form-control">
            </div>
            <div class="form-group col-md-4 col-lg-4 input-group-sm" style="margin-bottom: 20px;">
              <label class="label">Emise par :</label>
              <input disabled placeholder="Emise par " [(ngModel)]="demandePrix.creePar" class="form-control">
            </div>
          </div>
          <div class="row full-name-inputs">
            <div class="form-group col-md-12 col-lg-12 input-group-sm">
              <label _ngcontent-udb-c31="" class="label">Commentaire :</label>
              <textarea type="text" placeholder="Commentaire" class="form-control"
                [(ngModel)]="demandePrix.descriptionDP"></textarea>
            </div>
          </div>

          <nb-card>
            <nb-card-header>Liste des fournisseurs</nb-card-header>
            <nb-card-body>
              <ng2-smart-table class="full-width text-center" (custom)="onCustom($event)" [settings]="settingsF"
                [source]="sourceF">
              </ng2-smart-table>
            </nb-card-body>
          </nb-card>
        </nb-tab>
        <nb-tab tabTitle="Echeance de paiement">
          <div class="row full-name-inputs">
            <div class="form-group col-md-6 col-lg-6 input-group-sm">
              <label _ngcontent-udb-c31="" class="label">Mode de paiement :</label>
              <ng-select name="modesPaiements" placeholder="Mode de paiement" [appendTo]="'body'"
                [items]="modePaiements" style="width:100%;" bindLabel="typePaiement" [(ngModel)]="modesPaiement">
              </ng-select>
            </div>

            <div class="form-group col-md-6 col-lg-6 input-group-sm">
              <label _ngcontent-udb-c31="" class="label">Type de paiements :</label>
              <ng-select name="condition " placeholder="Type de paiement" [(ngModel)]="demandePrix.typePaiement">
                <ng-option value="Date fixe"> Date fixe</ng-option>
                <ng-option value="Par période">Par période</ng-option>
              </ng-select>
            </div>
          </div>
          <div *ngIf="demandePrix.typePaiement=='Date fixe'">
            <div [hidden]="false">
              <div class="row full-name-inputs">
                <div class="form-group col-md-12 col-lg-12 input-group-sm">
                  <label _ngcontent-udb-c31="" class="label">Date de paiement :</label>
                  <input name="datePaiement" placeholder="Date de paiement" class="form-control"
                    [(ngModel)]="demandePrix.datePaiement" [nbDatepicker]="datePaiement" i18n="@@startdate" />
                  <nb-datepicker (dateChange)="test($event)" #datePaiement></nb-datepicker>

                </div>
              </div>
            </div>
          </div>
          <div *ngIf="demandePrix.typePaiement=='Par période'">
            <div [hidden]="false">
              <div class="row full-name-inputs">
                <div class="form-group col-md-4 col-lg-4 input-group-sm">
                  <label _ngcontent-udb-c31="" class="label"> Condition de paiement :</label>
                  <ng-select name="conditionPaiements" placeholder="Echéance de paiement" [appendTo]="'body'"
                    [items]="conditionPaiements" style="width:100%;" bindLabel="designation"
                    [(ngModel)]="conditionPaiement">
                  </ng-select>
                </div>
                <div class="form-group col-md-4 col-lg-4 input-group-sm">
                  <label _ngcontent-udb-c31="" class="label">Délais de paiements
                    :</label>
                  <ng-select name="option " placeholder="Délais de paiement" [(ngModel)]=" echeancePaiement.option">
                    <ng-option value="A la date facturation">A la date de facturation</ng-option>
                    <ng-option value="A la date de commande">A la date de commande</ng-option>
                    <ng-option value="A la date de livraison">A la date de livraison</ng-option>
                  </ng-select>
                </div>
                <div class="form-group col-md-4 col-lg-4 input-group-sm">
                  <label _ngcontent-udb-c31="" class="label">Type montant :</label>
                  <ng-select name="typeMontant" placeholder="Type montant" [(ngModel)]="echeancePaiement.typeMontant">
                    <ng-option value="Montant fix">Montant fix</ng-option>
                    <ng-option value="Montant variable">Montant variable</ng-option>
                  </ng-select>
                </div>
                <div class="form-group col-md-4 col-lg-4 input-group-sm">
                  <label _ngcontent-udb-c31="" class="label">Montant(en devis compte ) :</label>
                  <input type="number" name="montant" placeholder="Montant" class="form-control"
                    [(ngModel)]="echeancePaiement.montant">
                </div>
                <div class="form-group col-md-4 col-lg-4 input-group-sm">
                  <label _ngcontent-udb-c31="" class="label">Monnaie :</label>
                  <ng-select name="devise" placeholder="Monnais" [appendTo]="'body'" [items]="devises"
                    style="width:100%;" [(ngModel)]="echeancePaiement.devise">
                  </ng-select>
                </div>
                <div class="form-group col-md-4 col-lg-4 input-group-sm">
                  <label _ngcontent-udb-c31="" class="label">Période de paiement(Mois) :</label>
                  <input type="number" name="nbrmois" placeholder="Période de paiement" class="form-control"
                    [(ngModel)]="echeancePaiement.nbrmois">
                </div>

              </div>
            </div>
          </div>

          <div *ngIf="echeancePaiement.typeMontant=='Montant variable'">
            <div [hidden]="false">
              <form action="" style="width:100%;" [formGroup]="listEcheanceForm">
                <div class="col">
                  <div class="row" formArrayName="listeEcheance">
                    <div class="col-md-12 col-lg-12" *ngFor="let group of listeEcheanceArray.controls; let i = index;"
                      [formGroupName]="i">
                      <div class="row">
                        <div class="col-12">
                          <div class="row">
                            <div class="col-8">
                              <label>Echéance de paiements {{i+1}} :</label>
                            </div>
                            <div class="col-4 control-buttons">
                              <img src="/assets/images/add.svg" alt="" (click)="addEcheance()">
                              <img src="/assets/images/remove.svg" alt="" width="24" height="24"
                                (click)="removeEcheance(i)">
                            </div>
                          </div>
                          <hr>
                        </div>
                        <!--({{(ep.rate * ep.percentage)/100 }}) [(rate)]="ep.rate"-->

                        <div class="col-12">
                          <div class="row">
                            <div class="col">
                              <div class="form-group col-md-3 col-lg-6 input-group-sm">
                                <label _ngcontent-udb-c31="" class="label">Date de paiement :</label>
                                <input formControlName="datePaiement" placeholder="Date de paiement"
                                  class="form-control" [nbDatepicker]="dateEcheancePaiement" i18n="@@startdate" />
                                <nb-datepicker (dateChange)="test($event)" #dateEcheancePaiement></nb-datepicker>
                              </div>
                            </div>

                            <div class="col">
                              <div class="form-group col-md-3 col-lg-6 input-group-sm">
                                <label _ngcontent-udb-c31="" class="label">Montant :</label>
                                <input type="number" formControlName="montant" class="form-control">
                              </div>
                            </div>

                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col">
                      <hr>
                    </div>
                  </div>
                </div>
              </form>
            </div>
          </div>



        </nb-tab>







      </nb-tabset>
    </nb-card-body>
  </nb-card>
  <div style="text-align:right;">
    <button size="xsmall" status="success" nbButton style="cursor: pointer;margin: 0.5rem;align-content: center;"
      (click)="onAddRCM()">{{ARCM}}</button>
    <button size="xsmall" status="danger" nbButton style="cursor: pointer;margin: 0.5rem;align-content: center;"
      (click)="close()">Fermer</button>
  </div>

</div>

























<!-- version ancienne -->
<!-- 
<div class="col-md-12 col-lg-12" style="width:950px; height: 450px">
  <div class="row">
    <div class="col-lg-12" style="width:600px; height: 300px">


      <nb-card>
        <nb-card-body>
          <nb-tabset fullWidth>
            <nb-tab tabTitle="Demande Prix">
              <div class="row full-name-inputs">
                <div class="form-group col-md-6 col-lg-6 input-group-sm" style="margin-bottom: 20px;">
                  <label class="label">Désignation :</label>
                  <input placeholder="Désignation" [(ngModel)]="demandePrix.name" class="form-control">
                </div>
                <div class="form-group col-md-6 col-lg-6 input-group-sm" style="margin-bottom: 20px;">
                  <label class="label">Emise par :</label>
                  <input disabled placeholder="Emise par " [(ngModel)]="demandePrix.creePar" class="form-control">
                </div>
              </div>
              <div class="row full-name-inputs">
                <div class="form-group col-md-12 col-lg-12 input-group-sm">
                  <label _ngcontent-udb-c31="" class="label">Commentaire :</label>
                  <textarea type="text" placeholder="Commentaire" class="form-control"
                    [(ngModel)]="demandePrix.descriptionDP"></textarea>
                </div>
              </div>


              <nb-card>
                <nb-card-body>
                  <ng2-smart-table  
                   class="full-width text-center"
                   (custom)="onCustom($event)" 
                   [settings]="settingsF" 
                   [source]="sourceF">
                  </ng2-smart-table>
                </nb-card-body>
              </nb-card>







            </nb-tab>

            <nb-tab tabTitle="Demande Achat Information" style="margin-bottom: 3%">
              <nb-card-body>
                <div class="row full-name-inputs">
                  <div class="form-group col-md-4 col-lg-4 input-group-sm" style="margin-bottom: 20px;">
                    <label _ngcontent-udb-c31="" class="label">Reférence demande achat :</label>

                    <input disabled type="text" placeholder="Reférence" class="form-control" value="{{reference}}" />
                  </div>
                </div>
                <div class="row full-name-inputs">
                  <div class="form-group col-md-4 col-lg-4 input-group-sm" style="margin-bottom: 20px;">
                    <label _ngcontent-udb-c31="" class="label">Demandeur :</label>

                    <input disabled type="text" class="form-control" [(ngModel)]="demandeAchat.typeDemande" />
                  </div>

                  <div class="form-group col-md-4 col-lg-4 input-group-sm" style="margin-bottom: 20px;">
                    <label _ngcontent-udb-c31="" class="label">Date Livraison :</label>
                    <input disabled placeholder="Date Livraison" name="dateLivraison" #startdate
                      [(ngModel)]="demandeAchat.dateLivraison" class="form-control" [nbDatepicker]="dateLivraison"
                      i18n="@@startdate" required>
                    <nb-datepicker #dateLivraison></nb-datepicker>
                  </div>





                  <div class="form-group col-md-4 col-lg-4 input-group-sm" style="margin-bottom: 20px;">
                    <label _ngcontent-udb-c31="" class="label">Date Demande :</label>
                    <input disabled placeholder="Date Commande" name="dateDemande" #startdate
                      [(ngModel)]="demandeAchat.dateDemande" class="form-control" [nbDatepicker]="dateDemande"
                      i18n="@@startdate" required>
                    <nb-datepicker #dateDemande></nb-datepicker>
                  </div>
                </div>
                <div class="row full-name-inputs">
                  <div class="form-group col-md-8 col-lg-8 input-group-sm" style="margin-bottom: 20px;">
                    <label _ngcontent-udb-c31="" class="label">Description :</label>

                    <textarea disabled type="text" placeholder="Description" class="form-control"
                      [(ngModel)]="demandeAchat.description"></textarea>
                  </div>
                </div>
              </nb-card-body>

              <nb-card>



                <nb-card-body>
                  <ng2-smart-table [settings]="settings" [source]="source">
                  </ng2-smart-table>
                </nb-card-body>
              </nb-card>
            </nb-tab>

        








    </nb-tabset>

    </nb-card-body>
    </nb-card>
    <div style="text-align:right;">
      <button size="xsmall" nbButton style="cursor: pointer;margin: 0.5rem;align-content: center;"
        (click)="onAddRCM()">{{ARCM}}</button>
      <button size="xsmall" nbButton style="cursor: pointer;margin: 0.5rem;align-content: center;" (click)="close()">Fermer</button>
    </div>


  </div>
</div>
</div> -->